# AGENTS

Этот файл содержит инструкции и краткую архитектуру приложения "CookaReq".

## Общие инструкции
- Работать в основной ветке (без новых веток).
- Перед каждым коммитом выполнять `pytest`.

## Архитектура

### Точка входа
- `app/main.py` — запуск приложения и создание главного окна.

### Бизнес-логика (`app/core`)
- `model.py` — dataclass `Requirement`.
- `schema.py` — JSON Schema для требований.
- `validate.py` — проверка бизнес-правил (уникальность id, обязательные поля).
- `store.py` — чтение/запись JSON, генерация имён по хэшу.
- `search.py` — фильтрация по меткам и текстовый поиск.

### Пользовательский интерфейс (`app/ui`)
- `main_frame.py` — основное окно, меню, выбор папки.
- `list_panel.py` — список требований и фильтры/поиск.
- `editor_panel.py` — форма редактирования требований.
- `locale.py` — словарь кодов ↔ русский текст.

### Утилиты (`app/util`)
- `hashing.py` — преобразование id в короткий SHA-256 хэш.
- `paths.py` — работа с относительными путями.

### Сборка
- `build.py` — упаковка проекта через PyInstaller (one-folder).

## Журнал выполнения
- 2025-09-10: Сформирован первоначальный план разработки (устарел).
- 2025-09-10: Создан каркас проекта.
- 2025-09-10: Добавлены утилиты.
- 2025-09-10: Реализована модель требований, схема и бизнес-валидация.
- 2025-09-10: Добавлены `.gitignore` и `pytest.ini`.
- 2025-09-11: Реализовано хранилище JSON.
- 2025-09-11: Реализованы поиск и фильтры.
- 2025-09-11: Создан каркас GUI.
- 2025-09-11: Реализован редактор требований.
- 2025-09-11: Добавлена локализация.
- 2025-09-12: Подключён словарь локализации.
- 2025-09-13: Добавлен скрипт сборки PyInstaller и инструкции.
- 2025-09-14: Удалён файл `Plan.md`; AGENTS.md переписан с актуальной архитектурой.
